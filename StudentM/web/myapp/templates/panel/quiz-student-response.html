<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <title>Exam Responses Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
  <link rel="stylesheet" href="{% static 'css/quiz-student-responses-admin.css' %}">
</head>
<body>
  <div class="exam-responses-admin-container">
    <!-- Navigation Sidebar -->
    <div class="exam-admin-navigation">
      <div class="logo-container"></div>
      <div class="nav-buttons-container">
        <a href="{% url 'admin_dashboard' %}" style="text-decoration: none;"><div class="nav-button" style="border:  #854BAB 1px solid;">
          <img src="{% static 'public3/external/dashboardlayout2136-pwh-200w.png' %}" alt="Dashboard" class="nav-icon">
          <span>Dashboard</span>
        </div></a>
        <a href="{% url 'admin_students' %}" style="text-decoration: none;"><div class="nav-button" style="border:  #854BAB 1px solid;">
          <img src="{% static 'public3/external/studentmale2134-uejm-200h.png' %}" alt="Students" class="nav-icon">
          <span>Students</span>
        </div></a>
        <a href="{% url 'admin_attendance' %}" style="text-decoration: none;"><div class="nav-button" style="border:  #854BAB 1px solid;">
          <img src="{% static 'public3/external/attendance7018-1v4-200h.png' %}" alt="Attendance" class="nav-icon">
          <span>Attendance</span>
        </div></a>
        <a href="{% url 'admin_quiz' %}" style="text-decoration: none;"><div class="nav-button active">
          <img src="{% static 'public3/external/quiz2137-2g3-200h.png' %}" alt="Quiz" class="nav-icon">
          <span>Quiz</span>
        </div></a>
        <a href="{% url 'admin_exam' %}" style="text-decoration: none;"><div class="nav-button" style="border:  #854BAB 1px solid;">
          <img src="{% static 'public3/external/exam2137-tdwn-200w.png' %}" alt="Exam" class="nav-icon">
          <span>Exam</span>
        </div></a>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
      <!-- Header -->
      <div class="page-header">
        <img src="{% static 'public3/external/quiz2137-3uc7-200h.png' %}" alt="Exam" class="header-icon">
        <h1>Quiz Students' Response</h1>
        <div class="student-info">
          <span class="student-name">Mee Smith Jr.</span>
          <span class="student-score">Score: 7/10</span>
        </div>
      </div>
      
      <div class="divider"></div>
      
      <!-- Exam Info -->
      <div class="exam-info-card">
        <h2>Quiz 2 - Software Design</h2>
        <div class="exam-meta">
          <span>Total Questions: 10</span>
          <span>Time Limit: 30mins</span>
          <span>Due Date: May 15, 2023</span>
        </div>
        <p class="exam-instructions">Read each question carefully and select the best answer</p>
      </div>
      
      <!-- Question Container -->
      <div class="question-container" id="questionContainer">
        <!-- Questions will be loaded here by JavaScript -->
      </div>
      
      <!-- Navigation Buttons -->
      <div class="question-nav-buttons">
        <button class="btn btn-outline" id="prevBtn">Previous Question</button>
        <button class="btn btn-primary" id="nextBtn">Next Question</button>
      </div>
    </div>
  </div>

  <script>
    // Sample exam data
    const examData = {
      studentName: "Mee Smith Jr.",
      score: "7/10",
      examTitle: "Midterm Exam 2 - Software Design",
      totalQuestions: 10,
      timeLimit: "30mins",
      dueDate: "May 15, 2023",
      questions: [
        {
          number: 1,
          text: "Which of the following is NOT a principle of object-oriented programming?",
          options: [
            { text: "Encapsulation", correct: false, selected: false },
            { text: "Inheritance", correct: false, selected: false },
            { text: "Polymorphism", correct: false, selected: false },
            { text: "Serialization", correct: true, selected: true }
          ],
          studentAnswer: 3, // index of selected option
          explanation: "Serialization is a mechanism of converting the state of an object into a byte stream, not an OOP principle."
        },
        {
          number: 2,
          text: "Explain the difference between aggregation and composition in object-oriented design.",
          options: [],
          studentAnswer: "Aggregation represents a 'has-a' relationship where one object contains another, but the contained object can exist independently, while composition is a stronger 'part-of' relationship where the contained object's lifecycle is dependent on the container.",
          correct: true,
          explanation: ""
        }
        // Add more questions as needed
      ]
    };

    // Current question index
    let currentQuestionIndex = 0;

    // DOM Elements
    const questionContainer = document.getElementById('questionContainer');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    // Load question
    function loadQuestion(index) {
      const question = examData.questions[index];
      let questionHtml = '';

      if (question.options.length > 0) {
        // Multiple choice question
        questionHtml = `
          <div class="question-card">
            <h3>Question ${question.number} of ${examData.totalQuestions}</h3>
            <p class="question-text">${question.text}</p>
            <div class="options-container">
              ${question.options.map((option, i) => `
                <div class="option ${option.selected ? 'selected' : ''} ${option.correct ? 'correct' : ''}">
                  <div class="option-indicator"></div>
                  <span>${option.text}</span>
                  ${option.selected && !option.correct ? '<span class="incorrect-label">Wrong</span>' : ''}
                  ${option.correct ? '<span class="correct-label">Correct</span>' : ''}
                </div>
              `).join('')}
            </div>
            ${question.explanation ? `<div class="explanation"><strong>Explanation:</strong> ${question.explanation}</div>` : ''}
          </div>
        `;
      } else {
        // Open-ended question
        questionHtml = `
          <div class="question-card">
            <h3>Question ${question.number} of ${examData.totalQuestions}</h3>
            <p class="question-text">${question.text}</p>
            <div class="answer-container">
              <div class="student-answer">
                <h4>Student's Answer:</h4>
                <p>${question.studentAnswer}</p>
              </div>
              <div class="answer-feedback ${question.correct ? 'correct' : 'incorrect'}">
                <h4>${question.correct ? 'Correct Answer' : 'Incorrect Answer'}</h4>
                ${question.explanation ? `<p>${question.explanation}</p>` : ''}
              </div>
            </div>
          </div>
        `;
      }

      questionContainer.innerHTML = questionHtml;
      
      // Update button states
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === examData.questions.length - 1;
    }

    // Event listeners
    prevBtn.addEventListener('click', () => {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        loadQuestion(currentQuestionIndex);
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentQuestionIndex < examData.questions.length - 1) {
        currentQuestionIndex++;
        loadQuestion(currentQuestionIndex);
      }
    });

    // Navigation buttons
    document.querySelectorAll('.nav-button').forEach(button => {
      button.addEventListener('click', function() {
        document.querySelectorAll('.nav-button').forEach(btn => {
          btn.classList.remove('active');
        });
        this.classList.add('active');
      });
    });

    // Load first question
    loadQuestion(0);
  </script>
</body>
</html>